<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
  </head>
  <body>
<script>
//节点类
function Node(value){
this.value=value;
this.next=null;
}
function List(){
  this.head=new Node("head")
}
List.prototype={
constructor:"List",
//查找指定值的第一个节点，如果存在多个相同的值则只会返回第一个
// @return 返回找到的第一个节点 如果没找到则返回null
find:function(item){
    var current=this.head;
    while(current!=null){
      if(current.value==item){
        return current;
      }
      current=current.next;
    }
    return null;
},
//插入值到指定节点的后一个位置，使用了find方法
// @return 返回插入的节点引用
insert:function(value,item){
  var newNode=new Node(value);
  if(item != null){
    var tmp=item.next;
    item.next=newNode;
    newNode.next=tmp;
  }
  return null;
},
//查找指定节点的前一个节点
findPrev:function(item){
  var current=this.head;
  while((current.next!=null)&&(current.next.value!=item.value)){
    current=current.next;
  }
  return current;
},
//移除指定节点
// @return 成功与否
remove:function(item){
  var prevNode=this.findPrev(item);
  if(prevNode.next!=null){
    prevNode.next=prevNode.next.next;
    return true;
  }
  return false;
},
append:function(v){
  var current=this.head;
  while(current.next!=null){
    current=current.next;
  }
  current.next=new Node(v);
},
toString:function(){
  var current=this.head;
  var result="";
  while(current.next!=null){
    result+=current.value+"->";
    current=current.next;
  }
  result+=current.value;
  return result;
}

}
var list=new List();
list.append("1");
list.append("2");
list.append("3");
list.append("4");
list.append("5");
console.info(list.toString());
list.insert("6",list.find("2"));
console.info(list.toString());
</script>
</body>
</html>
